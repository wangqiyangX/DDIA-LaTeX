\documentclass{book}
\usepackage[
  colorlinks=true,       % 启用颜色链接
  linkcolor=black,       % 内部链接（如目录）的颜色
  citecolor=red,         % 引用链接的颜色
  filecolor=magenta,     % 本地文件链接的颜色
  urlcolor=cyan          % 外部 URL 链接的颜色
]{hyperref}
\usepackage{graphicx}
\usepackage[utf8]{inputenc}
\usepackage{fontspec}  % 使用系统字体
\usepackage{xeCJK}     % 支持中文
\usepackage{listings}
\usepackage{mdframed}
\usepackage{xcolor}

\linespread{1.2}  % 设置行距为常规印刷
\lstset{
  backgroundcolor=\color{lightgray}, % 设置背景颜色
  basicstyle=\ttfamily\small,         % 设置代码字体样式
  keywordstyle=\color{blue},          % 设置关键词样式
  commentstyle=\color{green},         % 设置注释样式
  stringstyle=\color{red},            % 设置字符串样式
  frame=none,                         % 设置边框
  breaklines=true,                     % 自动换行
  xleftmargin=1em, xrightmargin=1em,   % 左右缩进留白（更美观）
}

\begin{document}
\tableofcontents

\part{数据系统基础}
\label{part:part-1}
本书前四章介绍了数据系统底层的基础概念，无论是在单台机器上运行的单点数据系统，还是分布在多台机器上的分布式数据系统都适用。

\begin{enumerate}
  \item \textbf{\autoref{ch:ch1}} 将介绍本书使用的术语和方法。\textbf{可靠性，可伸缩性和可维护性}，这些词汇到底意味着什么？如何实现这些目标？
  \item \textbf{\autoref{ch:ch2}} 将对几种不同的\textbf{数据模型和查询语言}进行比较。从程序员的角度看，这是数据库之间最明显的区别。不同的数据模型适用于不同的应用场景。
  \item \textbf{\autoref{ch:ch3}} 将深入\textbf{存储引擎}内部，研究数据库如何在磁盘上摆放数据。不同的存储引擎针对不同的负载进行优化，选择合适的存储引擎对系统性能有巨大影响。
  \item \textbf{\autoref{ch:ch4}} 将对几种不同的\textbf{数据编码}进行比较。特别研究了这些格式在应用需求经常变化、模式需要随时间演变的环境中表现如何。
\end{enumerate}

第二部分将专门讨论在\textbf{分布式数据系统}中特有的问题。

\newpage
\begin{figure}
  \centering
  \includegraphics[width=\textwidth]{img/ch1.jpg}
  \label{fig:ch1}
\end{figure}

\chapter{可靠性、可伸缩性和可维护性}
\label{ch:ch1}
\include{content/ch1.tex}

\newpage
\begin{figure}
  \centering
  \includegraphics[width=\textwidth]{img/ch2.png}
  \label{fig:ch2}
\end{figure}

\chapter{数据模型与查询语言}
\label{ch:ch2}
\include{content/ch2}

\newpage
\begin{figure}
  \centering
  \includegraphics[width=\textwidth]{img/ch3.png}
  \label{fig:ch3}
\end{figure}

\chapter{存储与检索}
\label{ch:ch3}
\include{content/ch3}

\newpage
\begin{figure}
  \centering
  \includegraphics[width=\textwidth]{img/ch4.png}
  \label{fig:ch4}
\end{figure}

\chapter{编码与演化}
\label{ch:ch4}

\part{分布式数据}
\label{part:part-2}

\newpage
\begin{figure}
  \centering
  \includegraphics[width=\textwidth]{img/ch5.png}
  \label{fig:ch5}
\end{figure}

\chapter{复制}
\label{ch:ch5}

\newpage
\begin{figure}
  \centering
  \includegraphics[width=\textwidth]{img/ch6.png}
  \label{fig:ch6}
\end{figure}

\chapter{分区}
\label{ch:ch6}

\newpage
\begin{figure}
  \centering
  \includegraphics[width=\textwidth]{img/ch7.png}
  \label{fig:ch7}
\end{figure}

\chapter{事务}
\label{ch:ch7}

\newpage
\begin{figure}
  \centering
  \includegraphics[width=\textwidth]{img/ch8.png}
  \label{fig:ch8}
\end{figure}

\chapter{分布式系统的麻烦}
\label{ch:ch8}

\newpage
\begin{figure}
  \centering
  \includegraphics[width=\textwidth]{img/ch9.png}
  \label{fig:ch9}
\end{figure}

\chapter{一致性与共识}
\label{ch:ch9}

\part{衍生数据}
\label{part:part-3}

\newpage
\begin{figure}
  \centering
  \includegraphics[width=\textwidth]{img/ch10.png}
  \label{fig:ch10}
\end{figure}

\chapter{批处理}
\label{ch:ch10}

\newpage
\begin{figure}
  \centering
  \includegraphics[width=\textwidth]{img/ch11.png}
  \label{fig:ch11}
\end{figure}

\chapter{流处理}
\label{ch:ch11}

\newpage
\begin{figure}
  \centering
  \includegraphics[width=\textwidth]{img/ch12.png}
  \label{fig:ch12}
\end{figure}

\chapter{数据系统的未来}
\label{ch:ch12}

\end{document}